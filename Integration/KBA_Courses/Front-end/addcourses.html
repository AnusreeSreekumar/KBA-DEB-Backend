<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Course</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <script>

        async function addcourses(event) {
            try {
                event.preventDefault();
                const Crsname = document.getElementById('CrsName').value;
                const Crsid = document.getElementById('CrsId').value;
                const Crstype = document.getElementById('CrsType').value;
                const Crsdesc = document.getElementById('CrsDesc').value;
                const Price = document.getElementById('CrsPrice').value;

                // console.log(fName, lName);

                const response = await fetch('http://127.0.0.1:8000/addCourse', {
                    method: "POST",
                    credentials: "include",
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        CourseId: Crsid,
                        CourseName: Crsname,
                        CourseType: Crstype,
                        Description: Crsdesc,
                        Price: Price

                    })
                })

                console.log(response);
                if(response.ok){
                    alert('Course added successfully')
                }
            }
            catch(error){
                console.log(error);                
            }
}
    </script>

</head>

<body class="p-0 m-0 bg-amber-50">
    <div class="flex justify-between p-4 bg-white shadow-md shadow-stone-600">
        <div class="w-9 h-11"><img src="/KBA_Courses/Front-end/Images/kbalogo.png"></div>
        <ul class="flex flex-row">
            <li class="mr-2"><a href="home.html" class="text-fuchsia-800 hover:font-bold hover:text-lg">Home</a>
            </li>
            <li class="mr-2"><a href="courses.html" class="text-fuchsia-800 hover:font-bold hover:text-lg">Courses</a>
            </li>
            <li class="mr-2"><a href="contactus.html" class="text-fuchsia-800 hover:font-bold hover:text-lg">Contact
                    Us</a></li>
            <li class="mr-2"><a href="addcourses.html" class="text-fuchsia-800 hover:font-bold hover:text-lg">Add
                    Course</a></li>
            <li class="mr-2"><a href="home.html" class="text-fuchsia-800 hover:font-bold hover:text-lg">Logout</a>
            </li>
        </ul>
    </div>
    <div class="flex items-center justify-center h-[calc(100vh-64px)]">
        <div class="w-96 shadow-2xl bg-white rounded-md p-8">
            <h1 class="font-bold text-2xl text-centre text-fuchsia-800 mb-2 pl-20">Add Course</h1>
            <form action="" onsubmit="addcourses(event)">
                <div>
                    <label for="name" class="block font-bold text-gray-700 mb-2">Course Name</label>
                    <input type="text" id="CrsName" placeholder="eg. Certified Blockchain Associate"
                        class="mb-2 border border-gray-300 focus:border-purple-500 focus:outline-none w-full rounded-md"
                        required>
                </div>

                <div>
                    <label for="id" class="block font-bold text-gray-700 mb-2">Course Id</label>
                    <input type="text" id="CrsId" placeholder="eg. 1"
                        class="mb-2 border border-gray-300 focus:border-purple-500 focus:outline-none w-full rounded-md"
                        required>
                </div>

                <div>
                    <label for="type" class="block font-bold text-gray-700 mb-2">Course Type</label>
                </div>

                <div>
                    <select id="CrsType" class="mb-2 w-full rounded-md border border-gray-300 p-1" required>
                        <option value="self">Self-Paced</option>
                        <option value="option2">Course 2</option>
                        <option value="option3">Course 3</option>
                        <option value="option4">Course 4</option>
                    </select>
                </div>

                <div>
                    <label for="desc" class="block font-bold text-gray-700 mb-2">Desription</label>
                    <textarea name="desc" id="CrsDesc" placeholder="Small description on the course"
                        class="mb-2 w-full border border-gray-300 focus:border-purple-500 focus:outline-none p-1 rounded-md"
                        required></textarea>
                </div>

                <div>
                    <label for="price" class="block font-bold text-gray-700 mb-2">Price</label>
                </div>
                <div>
                    <select id="CrsPrice" class="mb-2 w-full rounded-md border border-gray-300 p-1" required>
                        <option value="15000">15000</option>
                        <option value="20000">20000</option>
                        <option value="20000">20000</option>
                    </select>
                </div>

                <div class="mt-4">
                    <button type="submit"
                        class="w-full bg-purple-700 text-white font-bold py-2 px-4 rounded hover:bg-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50">
                        Submit
                    </button>
                </div>

            </form>
        </div>
    </div>
</body>

</html>